<script>

let isPlaying = false;

// ðŸ”Š dÃ¹ng file ná»™i bá»™
const bangSound = new Audio("./bang.mp3");
const clickSound = new Audio("./click.mp3");

bangSound.preload = "auto";
clickSound.preload = "auto";

// random 1 viÃªn
let bulletPosition = Math.floor(Math.random() * 6);
let currentChamber = 0;

document.getElementById("triggerBtn").addEventListener("click", function(){

  if(isPlaying) return;
  isPlaying = true;

  const result = document.getElementById("result");
  const btn = document.getElementById("triggerBtn");

  btn.disabled = true;

  setTimeout(()=>{

    if(currentChamber === bulletPosition){

      result.innerText = "ðŸ’¥ BANG!";
      result.style.color = "red";
      document.body.style.background = "#550000";

      bangSound.currentTime = 0;
      bangSound.play();

      // reset khi ná»•
      bulletPosition = Math.floor(Math.random() * 6);
      currentChamber = 0;

    } else {

      result.innerText = "ðŸ˜®â€ðŸ’¨ Click...";
      result.style.color = "lightgreen";

      clickSound.currentTime = 0;
      clickSound.play();

      currentChamber++;
    }

    setTimeout(()=>{
      document.body.style.background = "#111";
      result.innerText = "";
      btn.disabled = false;
      isPlaying = false;
    },1200);

  },300);

});

</script>
