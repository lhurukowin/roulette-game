<body>

<div class="container">
  <h1>ðŸŽ¯ Russian Roulette</h1>

  <div class="gun-wrapper">
    <div class="chamber" id="chamber"></div>
  </div>

  <button id="triggerBtn">BÃ“P CÃ’</button>
  <div class="result" id="result"></div>
</div>

<style>
.gun-wrapper{
  margin:30px auto;
  width:220px;
  height:220px;
  border-radius:50%;
  border:8px solid #444;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform 0.4s ease;
  background: radial-gradient(circle,#333 40%,#111 70%);
}

.chamber{
  width:40px;
  height:40px;
  border-radius:50%;
  background:#888;
}

.shake{
  animation: shake 0.3s;
}

@keyframes shake{
  0%{ transform:translateX(0); }
  25%{ transform:translateX(-8px); }
  50%{ transform:translateX(8px); }
  75%{ transform:translateX(-8px); }
  100%{ transform:translateX(0); }
}
</style>

<script>

let isPlaying = false;
let bulletPosition = Math.floor(Math.random() * 6);
let currentChamber = 0;

const bangSound = new Audio("bang.mp3");
const clickSound = new Audio("click.mp3");

const chamberUI = document.getElementById("chamber");
const wrapper = document.querySelector(".gun-wrapper");

document.getElementById("triggerBtn").addEventListener("click", pullTrigger);

function pullTrigger(){

  if(isPlaying) return;
  isPlaying = true;

  const result = document.getElementById("result");
  const btn = document.getElementById("triggerBtn");

  btn.disabled = true;

  wrapper.style.transform = "rotate(" + (currentChamber * 60) + "deg)";

  setTimeout(()=>{

    if(currentChamber === bulletPosition){

      result.innerText = "ðŸ’¥ BANG!";
      result.style.color = "red";
      document.body.style.background = "#550000";

      wrapper.classList.add("shake");

      bangSound.currentTime = 0;
      bangSound.play().catch(()=>{});

      bulletPosition = Math.floor(Math.random() * 6);
      currentChamber = 0;

    } else {

      result.innerText = "ðŸ˜®â€ðŸ’¨ Click...";
      result.style.color = "lightgreen";

      clickSound.currentTime = 0;
      clickSound.play().catch(()=>{});

      currentChamber++;
    }

    setTimeout(()=>{
      document.body.style.background = "#111";
      result.innerText = "";
      btn.disabled = false;
      isPlaying = false;
      wrapper.classList.remove("shake");
    },1500);

  },400);
}
</script>

</body>
